// Generated by CoffeeScript 1.10.0
angular.module('headerController', ['ngMaterial', 'WPAPI']).controller('HeaderCtrl', [
  '$scope', '$rootScope', '$mdSidenav', '$mdMenu', 'UserService', 'MenuService', function($scope, $rootScope, $mdSidenav, $mdMenu, UserService, MenuService) {
    $scope.$mdMenu = $mdMenu;
    $scope.openMenu = function($mdOpenMenu, $event) {
      $mdOpenMenu($event);
      angular.element(document).bind('mousemove', function(e) {
        var target;
        target = angular.element(e.target);
        if (target[0].tagName === 'MD-BACKDROP' && target.hasClass('md-menu-backdrop') && !target.hasClass('ng-enter')) {
          return $mdMenu.hide();
        }
      });
    };
    $scope.openLeft = function() {
      return $mdSidenav('left').open();
    };
    $scope.current_user_id = CURRENT_USER_ID;
    if (CURRENT_USER_ID === "0") {
      $rootScope.current_user = null;
    } else {
      $scope.adminUrl = BLOG_URL + '/wp-admin/';
      $rootScope.current_user = UserService.get({});
    }
    $scope.keyword = '';
    $scope.search = function() {
      var search_url;
      if ($scope.keyword.length !== 0) {
        search_url = 'https://www.google.com/search?q=site%3A' + BLOG_BARE_URL + '+' + $scope.keyword;
        return location.href = search_url;
      }
    };
    return $scope.menu = MenuService.get();
  }
]);

//# sourceMappingURL=headerController.js.map
